{% extends 'myApp/base.html' %}

{% block title %}Our Book Collection - BookHaven{% endblock %}

{% block content %}
<div style="text-align: center; margin-bottom: 2rem;">
    <h1><i class="fas fa-books"></i> Our Book Collection</h1>
    <p style="color: #7f8c8d; font-size: 1.1rem;">Discover your next great read from our curated selection</p>
</div>

{% if books %}
    <div style="background: rgba(102, 126, 234, 0.1); padding: 1rem; border-radius: 10px; margin-bottom: 2rem; text-align: center;">
        <p style="margin: 0; color: #2c3e50;">
            <i class="fas fa-book"></i> 
            <strong>{{ books|length }}</strong> amazing book{{ books|length|pluralize }} waiting for you!
        </p>
    </div>

    <div class="grid grid-auto">
        {% for book in books %}
            <div class="card" style="height: 100%; display: flex; flex-direction: column;">
                <div style="flex-grow: 1;">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <h3 style="margin: 0; flex-grow: 1;">
                            <a href="{% url 'myApp:book_detail' book.pk %}" 
                               style="color: #2c3e50; text-decoration: none;">
                                {{ book.title }}
                            </a>
                        </h3>
                        <span style="background: linear-gradient(135deg, #667eea, #764ba2); 
                                     color: white; padding: 0.3rem 0.8rem; border-radius: 15px; 
                                     font-weight: bold; font-size: 0.9rem; margin-left: 1rem;">
                            ${{ book.price }}
                        </span>
                    </div>
                    
                    <p style="color: #7f8c8d; margin-bottom: 0.5rem;">
                        <i class="fas fa-user"></i> <strong>{{ book.author }}</strong>
                    </p>
                    
                    <p style="color: #95a5a6; font-size: 0.9rem; margin-bottom: 1rem;">
                        <i class="fas fa-calendar"></i> {{ book.publication_date|date:"Y" }}
                    </p>
                    
                    <p style="color: #34495e; line-height: 1.6; margin-bottom: 1rem;">
                        {{ book.description|truncatewords:25 }}
                    </p>
                </div>
                
                <div style="margin-top: auto; display: flex; gap: 0.5rem;">
                    <a href="{% url 'myApp:book_detail' book.pk %}" class="btn btn-primary" style="flex-grow: 1; text-align: center;">
                        <i class="fas fa-eye"></i> View Details
                    </a>
                    <button class="btn btn-success" style="padding: 12px;">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
                
                <div style="position: absolute; top: 15px; right: 15px; background: rgba(231, 76, 60, 0.9); 
                            color: white; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 0.8rem;">
                    <i class="fas fa-tag"></i> Popular
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div style="text-align: center; padding: 4rem 2rem; background: linear-gradient(135deg, rgba(231, 76, 60, 0.1), rgba(241, 196, 15, 0.1)); 
                border-radius: 20px; margin-top: 2rem;">
        <i class="fas fa-book-open" style="font-size: 4rem; color: #e74c3c; margin-bottom: 1rem;"></i>
        <h2 style="color: #2c3e50; margin-bottom: 1rem;">No Books Available</h2>
        <p style="color: #7f8c8d; font-size: 1.1rem; margin-bottom: 2rem;">
            We're working hard to add amazing books to our collection. Please check back soon!
        </p>
        <a href="{% url 'myApp:home' %}" class="btn btn-primary">
            <i class="fas fa-home"></i> Back to Home
        </a>
    </div>
{% endif %}

<div style="margin-top: 3rem; text-align: center; padding: 2rem; background: rgba(255, 255, 255, 0.5); border-radius: 15px;">
    <h3 style="margin-bottom: 1rem;"><i class="fas fa-lightbulb"></i> Can't find what you're looking for?</h3>
    <p style="color: #7f8c8d; margin-bottom: 1rem;">
        Contact our team and we'll help you find the perfect book for your reading journey.
    </p>
    <button class="btn btn-secondary">
        <i class="fas fa-envelope"></i> Contact Us
    </button>
</div>
{% endblock %}